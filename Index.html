<!DOCTYPE html>

<html>

<head>

<base target="_top">

<meta charset="UTF-8">

<title>Kvetka Booking</title>



<!-- 1) scripts FIRST, to define choosePlan etc. -->

<?!= include('scripts') ?>



<!-- 2) styles NEXT -->

<?!= include('styles') ?>

</head>

<body>

<script>

window.busyDates = JSON.parse('<?= busyDatesJson ?>');

window.config = JSON.parse('<?= configJson ?>');

window.optionsArr = JSON.parse('<?= optionsJson ?>');

window.includedItems= JSON.parse('<?= includedJson ?>');

</script>



<!-- 3) steps LAST, references to choosePlan etc. are safe now. -->

<?!= include('steps') ?>
<script>
  // Дождёмся полной загрузки DOM и только потом вызовем choosePlan
  setTimeout(() => {
    if (window.choosePlan) {
      window.choosePlan(window.myPlan || 'custom');
    }
  }, 100);
</script>

</body>

</html>