<script>
  function waitForElementAndInit(selector, callback) {
    const el = document.querySelector(selector);
    if (el) {
      callback();
    } else {
      setTimeout(() => waitForElementAndInit(selector, callback), 50);
    }
  }

  function updateProgress(step) {
    ['step1', 'step2', 'step3'].forEach(id => {
      const el = document.getElementById(id);
      if (el) el.classList.remove('active');
    });
    const activeEl = document.getElementById(`step${step}`);
    if (activeEl) activeEl.classList.add('active');
  }
</script>