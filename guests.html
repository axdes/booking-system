<script>
// ============ GUESTS ============
// –£–≤–µ–ª–∏—á–µ–Ω–∏–µ/—É–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≥–æ—Å—Ç–µ–π

function getGuestTotal() {
  return window.adultCount + window.kidCount;
}

function updateGuestUI() {
  const totalGuests = getGuestTotal();
  const infoText = document.getElementById('guestInfo');
  const secondHouseBlock = document.getElementById('secondHouseBlock');

  if (totalGuests > 4) {
    infoText.innerHTML = `
      –í—ã –≤—ã–±—Ä–∞–ª–∏ ${totalGuests} –≥–æ—Å—Ç–µ–π ‚Äî –≤ –æ—Å–Ω–æ–≤–Ω–æ–º –¥–æ–º–µ –º–∞–∫—Å–∏–º—É–º 4.
      <br>
      –î–æ–±–∞–≤—å—Ç–µ –≤—Ç–æ—Ä–æ–π –¥–æ–º–∏–∫ –∑–∞ 150 —Ä., —á—Ç–æ–±—ã —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –≤—Å–µ—Ö —Å –∫–æ–º—Ñ–æ—Ä—Ç–æ–º.
    `;
    secondHouseBlock.style.display = 'block';
  } else {
    infoText.innerHTML = `
      –î–æ–º —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –Ω–∞ 4 –≥–æ—Å—Ç–µ–π (–≤–∑—Ä–æ—Å–ª—ã–µ + –¥–µ—Ç–∏) –∏ –æ–¥–Ω–æ–≥–æ –º–ª–∞–¥–µ–Ω—Ü–∞ –≤ –∫—Ä–æ–≤–∞—Ç–∫–µ.
      <br>
      –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤—Ç–æ—Ä–æ–π –¥–æ–º–∏–∫ (+2 –º–µ—Å—Ç–∞) –∑–∞ 150 —Ä.
    `;
    secondHouseBlock.style.display = 'none';
    document.getElementById('secondHouse').checked = false;
    window.includeSecondHouse = false;
  }
}

function toggleSecondHouse() {
  window.includeSecondHouse = document.getElementById('secondHouse').checked;
}

function getTotalGuests() {
  return window.adultCount + window.kidCount;
}

function increase(type) {
  const total = getTotalGuests();

  if (type === 'adults') {
    if (total < 4 || window.secondHouseSelected) {
      window.adultCount++;
      document.getElementById('adultsCount').textContent = window.adultCount;
    }
  } else if (type === 'kids') {
    if (total < 4 || window.secondHouseSelected) {
      window.kidCount++;
      document.getElementById('kidsCount').textContent = window.kidCount;
    }
  } else if (type === 'babies' && window.babyCount < 2) {
    window.babyCount++;
    document.getElementById('babiesCount').textContent = window.babyCount;
  } else if (type === 'pets' && window.petCount < 2) {
    window.petCount++;
    document.getElementById('petsCount').textContent = window.petCount;
  }

  checkSecondHouseOffer(); // üëà –≤—ã–∑—ã–≤–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É
}

function decrease(type) {
  if (type === 'adults' && window.adultCount > 1) {
    window.adultCount--;
    document.getElementById('adultsCount').textContent = window.adultCount;

  } else if (type === 'kids' && window.kidCount > 0) {
    window.kidCount--;
    document.getElementById('kidsCount').textContent = window.kidCount;

  } else if (type === 'babies' && window.babyCount > 0) {
    window.babyCount--;
    document.getElementById('babiesCount').textContent = window.babyCount;

  } else if (type === 'pets' && window.petCount > 0) {
    window.petCount--;
    document.getElementById('petsCount').textContent = window.petCount;
  }

  checkSecondHouseOffer(); // –Ω–∞ –≤—Å—è–∫–∏–π —Å–ª—É—á–∞–π –ø–µ—Ä–µ—Å—á—ë—Ç –ª–æ–≥–∏–∫–∏ –≤—Ç–æ—Ä–æ–≥–æ –¥–æ–º–∏–∫–∞
}


function checkSecondHouseOffer() {
  const total = getTotalGuests();

  const offerDiv = document.getElementById('secondHouseOffer');
  const toggle = document.getElementById('secondHouseToggle');

  if (total === 4 && !window.secondHouseSelected) {
    offerDiv.style.display = 'block';
  } else {
    offerDiv.style.display = 'none';
  }
}
function toggleSecondHouse(checked) {
  window.secondHouseSelected = checked;
}

</script>
